SWF使得构建分布式应用程序变得容易。 在 SWF中，任务表示为应用程序组件执行的逻辑工作单元。 跨应用程序协调任务包括了管理任务内部依赖，调度计划和并发，管理它们的依据是任务的逻辑流程。 Amazon SWF使您可以完全控制实施和协调任务，而不必担心管理、跟踪和维护等潜在的复杂性。

使用SWF时，您将定义worker来执行任务。 这些worker可以在Amazon EC2之类的云基础架构上运行，也可以在您自己的业务应用中运行。 您可以创建长时间运行的任务，这些任务可能会失败，超时或需要重新启动，或者可以通过不同的吞吐量和延迟来完成任务。SWF负责存储任务，在任务准备就绪时将其分配给worker，监视其进度并维护状态，包括完成情况的详细信息。 为了协调任务，您需要编写程序从SWF获取每个任务的最新状态，并使用它来启动后续任务。 SWF持续维护应用程序的执行状态，以使应用程序能够不受单个组件故障的影响。 借助SWF，您可以独立实施，部署，扩展和修改这些应用程序组件。



# Workflows

使用Amazon SWF，您可以将分布式异步应用程序实现为工作流。 工作流协调和管理可以跨多个计算设备异步运行并且可以具有顺序和并行处理功能的活动的执行。

在设计工作流程时，需要析应用程序并识别其组成任务，这些任务在SWF中表示为活动，由工作流程的业务逻辑来确定活动的执行顺序。



# Workflow Domains

Domain决定了工作流的资源范围，也就是说，您必须为工作流里的组件制定一个域。一个域中可以有多个工作流，不同域间的工作流不能交互。



# Actors

SWF由不同类型的程序模块构成，其中Actor在工作流中担负启动、决策或工作执行的角色。Actor通过API与SWF交互，支持多种程序语言。

工作流启动者可以是任何应用程序。如启动电子订单流的电子商务网站，订购外卖食品的移动端应用。

工作流中的活动可以顺序，并行，同步或异步运行。 协调工作流活动的程序模块称为决策者。 决策者计划活动任务并将输入数据提供给worker。 决策者还处理在工作流程进行期间到达的事件，并在目标完成后关闭工作流程。

Worker是工作流中执行具体任务的线程。不同类型的worker执行不同任务，多个worker也可以同时处理同一类型任务。Worker准备就绪时，它们会轮询SWF查找合适的任务执行，完成后将任务状态和结果返回给SWF，然后轮询下一个任务。



# 任务

Amazon SWF为worker和决策者分配工作任务，任务有三种形式：活动，Lambda和决策任务。

活动任务告诉worker执行功能，例如检查库存或从信用卡中收取费用。 活动任务包含worker执行其功能所需的所有信息。

Lambda任务类似于活动任务，但是执行的是Lambda函数而不是传统的SWF活动。

决策任务告诉决策者工作流程执行的状态已更改，以便决策者可以确定需要执行的下一个活动。 决策任务包含当前工作流程历史记录。

SWF会在工作流程启动时以及工作流程的状态发生变化时（例如活动任务完成时）安排决策任务。 每个决策任务都包含整个工作流程执行历史的分页视图。 决策者分析工作流程执行历史记录，得出一个过一组执行下一步任务的决策，并反馈给SWF。 



