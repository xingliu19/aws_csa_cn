缓存常用数据是您可以在应用程序中进行的最重要的性能优化方式之一。 与从内存缓存中检索数据相比，查询数据库是一项代价高昂的操作。 通过在内存中存储频繁访问的数据，应用程序开发人员可以显着提高重量级的应用程序的性能和响应速度。 

多年以来，开发人员一直在构建使用诸如Memcached或Redis之类的缓存引擎的应用程序，以将数据存储在内存中，从而获得快速的应用程序性能。 Memcached是一种易于使用的内存键/值存储，可用于存储任意类型的数据。 它是最流行的缓存引擎之一。 Redis是一种灵活的内存中数据结构存储，可以用作缓存，数据库甚至消息代理。 ElastiCache使开发人员可以轻松部署和管理运行Memcached或Redis的缓存环境。



# ElastiCache

ElastiCache是一项Web服务，可简化分布式内存缓存环境的设置和管理。使您的云应用程序提供高性能和可扩展的缓存解决方案变得容易且节省成本。使用ElastiCache来加快缓存群集的部署，且减少分布式缓存环境所需的管理工作。

借助ElastiCache，您可以选择遵从Memcached或Redis协议的缓存引擎，并在几分钟之内快速启动集群。 由于Amazon ElastiCache是一项托管服务，因此您可以，立刻马上开始使用该服务，对使用Memcached或Redis的现有应用程序进行的少量修改或不需要修改。 由于ElastiCache与这两个引擎都兼容，因此您只需更改配置文件中的终端节点即可。

使用ElastiCache，您可以实施任意数量的缓存模式。 最常见的模式是高速缓存备用模式。 在这种模式下，应用服务器将首先检查缓存，以查看其是否包含所需的数据。 如果缓存节点中不存在数据，它将查询数据库并将查询结果序列化写入缓存。 然后，下一个用户请求将能够直接从缓存中读取数据。

虽然您可以在EC2实例上自行构建和管理缓存集群，但ElastiCache允许您将繁重的安装，管理和监视工作交给AWS，从而专注于您的业务 。 ElastiCache还提供了许多功能来增强关键部署的可靠性。譬如EC2实例可能会受损，尽管这很少见。 ElastiCache可以自动检测缓存节点的故障并从中恢复。 借助Redis引擎，ElastiCache可以轻松设置只读副本，并在出现问题时从主副本切换到从副本。

# 数据访问模式

在内存缓存中检索总是比最优化的数据库查询要快。 在决定将数据存储在缓存中之前，您应该评估数据的访问模式。 一个很好的缓存场景就是缓存目录中的产品列表。 对于繁忙的网站，每秒可以检索数千次项目列表。 缓存请求量最大的项目很有意义，但您也可以受益于缓存不经常请求的项目。 还有一些数据项不应缓存。 例如，如果您为每个请求生成一个唯一页面，缓存页面结果可能不是一个很好的选择。 但是，即使页面每次都更改，缓存页面中不变的组件也是有意义的。



# Cache Engines

ElastiCache允许您快速部署两种不同类型的流行缓存引擎的集群：Memcached和Redis。 Memcached和Redis看起来很相似，但它们支持各种不同的用例并提供不同的功能。

Memcached Memcached提供了一个非常简单的交互界面，使您可以把对象在键值内存数据库中写入和读取。 借助ElastiCache，您可以弹性地扩展和收缩Memcached节点集群以满足需求。 您可以将群集划分为多个片域，并支持并行化操作以实现非常高的性能吞吐量。 Memcached将对象视为Blob，可以使用唯一键来对其进行检索。 放入对象的内容由您决定，通常是数据库查询的序列化结果。 它可以是简单的字符串值或二进制数据。

Redis 与Memcached不同，Redis支持将内存中的数据持久化保存到磁盘上。 Redis集群还可以支持多达五个只读副本以分摊读取请求。 如果主节点发生故障，则可以使用Multi-AZ复制组将只读副本升级为新的主副本。



# 节点和集群

ElastiCache的每个部署都由一个集群中的一个或多个节点组成。你可以根据需要选择许多不同类型的节点。 一个Memcached群集最多可以包含20个节点。 Redis群集则始终由单个节点组成； 但是可以将多个群集归为Redis复制组。

根据需求，您可以在群集或复制组中选择大节点或多个小节点，您还可能会不时添加或删除节点。 每种节点类型都带有预先配置的内存数量，少量的内存分配给了缓存引擎和操作系统本身。



# 缩放

你可以同过增减节点来水平调整性能水平，或者选择不同类型的节点来垂直调整。







